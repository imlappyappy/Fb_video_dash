{
  "pluginType": "DB",
  "pluginId": "postgres-plugin",
  "unpublishedAction": {
    "name": "Channel_New_Videos",
    "datasource": {
      "pluginId": "postgres-plugin",
      "messages": [],
      "isAutoGenerated": false,
      "id": "Fb_video_dashboard_datasrc",
      "deleted": false,
      "policies": [],
      "userPermissions": []
    },
    "pageId": "Facebook",
    "actionConfiguration": {
      "timeoutInMillisecond": 10000,
      "paginationType": "NONE",
      "encodeParamsToggle": true,
      "body": "with CTE_channel_All as (\nselect name AS channel,\n(case EXTRACT(month FROM date_trunc('month',created_time::date)) when '1' THEN 'Jan'\n\t\t\t\twhen '2' THEN 'Feb'\n\t\t\t\twhen '3' THEN 'Mar'\n\t\t\t\twhen '4' THEN 'Apr'\n\t\t\t\twhen '5' THEN 'May'\n\t\t\t\twhen '6' THEN 'June'\n\t\t\t\twhen '7' THEN 'July'\n\t\t\t\twhen '8' THEN 'Aug'\n\t\t\t\twhen '9' THEN 'Sept'\n\t\t\t\twhen '10' THEN 'Oct'\n\t\t\t\twhen '11' THEN 'Nov'\n\t\t\t\twhen '12' THEN 'Dec'\n\t\t\t\tEND) as Month,\nSUM(cast(total_video_views as decimal)) as Views,\nROUND((SUM(cast(total_video_view_total_time as decimal))/(3600*1000)),2) as Watch_Hrs,\nSUM(cast(total_video_impressions as decimal)/1000) as Revenue\nFROM public.smg_dmp_fb_video_dashboard_unq_view\nwhere created_time >= '{{Start_date.selectedDate}}'\n  AND created_time < '{{End_date.selectedDate}}'\n\t\t\tAND name like {{Domain_select.selectedOptionValue ? Domain_select.selectedOptionValue : \"%\"}}\ngroup by Month,name\norder by Views DESC)\nSELECT * FROM(\nselect CTE_channel_All.channel,CTE_channel_All.Month,CTE_channel_All.Views,CTE_channel_All.Watch_Hrs,CTE_channel_All.Revenue\nfrom CTE_channel_All \nORDER BY CTE_channel_All.channel\n) AS T\nUNION ALL\nselect 'Total','Month',sum(Views),sum(Watch_Hrs),sum(Revenue)\nfrom CTE_channel_All;"
    },
    "executeOnLoad": true,
    "dynamicBindingPathList": [
      {
        "key": "body"
      }
    ],
    "isValid": true,
    "invalids": [],
    "messages": [],
    "jsonPathKeys": [
      "Domain_select.selectedOptionValue ? Domain_select.selectedOptionValue : \"%\"",
      "End_date.selectedDate",
      "Start_date.selectedDate"
    ],
    "userSetOnLoad": false,
    "confirmBeforeExecute": false,
    "policies": [],
    "userPermissions": []
  },
  "id": "Facebook_Channel_New_Videos",
  "deleted": false,
  "gitSyncId": "62837f843cd70e097b62341a_62b99a684c1f4b56d4d33d8a"
}